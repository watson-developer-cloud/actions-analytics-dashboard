{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport Flatpickr from 'flatpickr';\nimport settings from '../../globals/js/settings';\nimport mixin from '../../globals/js/misc/mixin';\nimport createComponent from '../../globals/js/mixins/create-component';\nimport initComponentBySearch from '../../globals/js/mixins/init-component-by-search';\nimport handles from '../../globals/js/mixins/handles';\nimport on from '../../globals/js/misc/on';\n/* eslint no-underscore-dangle: [2, { \"allow\": [\"_input\", \"_updateClassNames\", \"_updateInputFields\"], \"allowAfterThis\": true }] */\n// `this.options` create-component mix-in creates prototype chain\n// so that `options` given in constructor argument wins over the one defined in static `options` property\n// 'Flatpickr' wants flat structure of object instead\n\nfunction flattenOptions(options) {\n  var o = {}; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n  for (var key in options) {\n    o[key] = options[key];\n  }\n\n  return o;\n} // Weekdays shorthand for english locale\n\n\nFlatpickr.l10ns.en.weekdays.shorthand.forEach(function (day, index) {\n  var currentDay = Flatpickr.l10ns.en.weekdays.shorthand;\n\n  if (currentDay[index] === 'Thu' || currentDay[index] === 'Th') {\n    currentDay[index] = 'Th';\n  } else {\n    currentDay[index] = currentDay[index].charAt(0);\n  }\n});\n\nvar toArray = function toArray(arrayLike) {\n  return Array.prototype.slice.call(arrayLike);\n};\n/**\n * @param {number} monthNumber The month number.\n * @param {boolean} shorthand `true` to use shorthand month.\n * @param {Locale} locale The Flatpickr locale data.\n * @returns {string} The month string.\n */\n\n\nvar monthToStr = function monthToStr(monthNumber, shorthand, locale) {\n  return locale.months[shorthand ? 'shorthand' : 'longhand'][monthNumber];\n};\n/**\n * @param {object} config Plugin configuration.\n * @param {boolean} [config.shorthand] `true` to use shorthand month.\n * @param {string} config.selectorFlatpickrMonthYearContainer The CSS selector for the container of month/year selection UI.\n * @param {string} config.selectorFlatpickrYearContainer The CSS selector for the container of year selection UI.\n * @param {string} config.selectorFlatpickrCurrentMonth The CSS selector for the text-based month selection UI.\n * @param {string} config.classFlatpickrCurrentMonth The CSS class for the text-based month selection UI.\n * @returns {Plugin} A Flatpickr plugin to use text instead of `<select>` for month picker.\n */\n\n\nvar carbonFlatpickrMonthSelectPlugin = function carbonFlatpickrMonthSelectPlugin(config) {\n  return function (fp) {\n    var setupElements = function setupElements() {\n      var _fp$monthElements;\n\n      if (!fp.monthElements) {\n        return;\n      }\n\n      fp.monthElements.forEach(function (elem) {\n        if (!elem.parentNode) return;\n        elem.parentNode.removeChild(elem);\n      });\n\n      (_fp$monthElements = fp.monthElements).splice.apply(_fp$monthElements, [0, fp.monthElements.length].concat(_toConsumableArray(fp.monthElements.map(function () {\n        // eslint-disable-next-line no-underscore-dangle\n        var monthElement = fp._createElement('span', config.classFlatpickrCurrentMonth);\n\n        monthElement.textContent = monthToStr(fp.currentMonth, config.shorthand === true, fp.l10n);\n        fp.yearElements[0].closest(config.selectorFlatpickrMonthYearContainer).insertBefore(monthElement, fp.yearElements[0].closest(config.selectorFlatpickrYearContainer));\n        return monthElement;\n      }))));\n    };\n\n    var updateCurrentMonth = function updateCurrentMonth() {\n      var monthStr = monthToStr(fp.currentMonth, config.shorthand === true, fp.l10n);\n      fp.yearElements.forEach(function (elem) {\n        var currentMonthContainer = elem.closest(config.selectorFlatpickrMonthYearContainer);\n        Array.prototype.forEach.call(currentMonthContainer.querySelectorAll('.cur-month'), function (monthElement) {\n          monthElement.textContent = monthStr;\n        });\n      });\n    };\n\n    var register = function register() {\n      fp.loadedPlugins.push('carbonFlatpickrMonthSelectPlugin');\n    };\n\n    return {\n      onMonthChange: updateCurrentMonth,\n      onValueUpdate: updateCurrentMonth,\n      onOpen: updateCurrentMonth,\n      onReady: [setupElements, updateCurrentMonth, register]\n    };\n  };\n};\n\nvar DatePicker = /*#__PURE__*/function (_mixin) {\n  _inherits(DatePicker, _mixin);\n\n  var _super = _createSuper(DatePicker);\n  /**\n   * DatePicker.\n   * @extends CreateComponent\n   * @extends InitComponentBySearch\n   * @extends Handles\n   * @param {HTMLElement} element The element working as an date picker.\n   */\n\n\n  function DatePicker(element, options) {\n    var _this;\n\n    _classCallCheck(this, DatePicker);\n\n    _this = _super.call(this, element, options);\n\n    _this._handleFocus = function () {\n      if (_this.calendar) {\n        _this.calendar.open();\n      }\n    };\n\n    _this._handleBlur = function (event) {\n      if (_this.calendar) {\n        var focusTo = event.relatedTarget;\n\n        if (!focusTo || !_this.element.contains(focusTo) && (!_this.calendar.calendarContainer || !_this.calendar.calendarContainer.contains(focusTo))) {\n          _this.calendar.close();\n        }\n      }\n    };\n\n    _this._initDatePicker = function (type) {\n      if (type === 'range') {\n        // Given FlatPickr assumes one `<input>` even in range mode,\n        // use a hidden `<input>` for such purpose, separate from our from/to `<input>`s\n        var doc = _this.element.ownerDocument;\n        var rangeInput = doc.createElement('input');\n        rangeInput.className = _this.options.classVisuallyHidden;\n        rangeInput.setAttribute('aria-hidden', 'true');\n\n        _this.element.appendChild(rangeInput);\n\n        _this._rangeInput = rangeInput; // An attempt to open the date picker dropdown when this component gets focus,\n        // and close the date picker dropdown when this component loses focus\n\n        var w = doc.defaultView;\n        var hasFocusin = ('onfocusin' in w);\n        var hasFocusout = ('onfocusout' in w);\n        var focusinEventName = hasFocusin ? 'focusin' : 'focus';\n        var focusoutEventName = hasFocusout ? 'focusout' : 'blur';\n\n        _this.manage(on(_this.element, focusinEventName, _this._handleFocus, !hasFocusin));\n\n        _this.manage(on(_this.element, focusoutEventName, _this._handleBlur, !hasFocusout));\n\n        _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), focusoutEventName, _this._handleBlur, !hasFocusout));\n      }\n\n      var self = _assertThisInitialized(_this);\n\n      var date = type === 'range' ? _this._rangeInput : _this.element.querySelector(_this.options.selectorDatePickerInput);\n      var _this$options = _this.options,\n          _onClose = _this$options.onClose,\n          _onChange = _this$options.onChange,\n          _onMonthChange = _this$options.onMonthChange,\n          _onYearChange = _this$options.onYearChange,\n          _onOpen = _this$options.onOpen,\n          _onValueUpdate = _this$options.onValueUpdate;\n      var calendar = new Flatpickr(date, Object.assign(flattenOptions(_this.options), {\n        allowInput: true,\n        mode: type,\n        disableMobile: true,\n        positionElement: type === 'range' && _this.element.querySelector(_this.options.selectorDatePickerInputFrom),\n        onClose: function onClose(selectedDates) {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          if (self.shouldForceOpen) {\n            if (self.calendar.calendarContainer) {\n              self.calendar.calendarContainer.classList.add('open');\n            }\n\n            self.calendar.isOpen = true;\n          }\n\n          for (var _len = arguments.length, remainder = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            remainder[_key - 1] = arguments[_key];\n          }\n\n          if (!_onClose || _onClose.call.apply(_onClose, [this, selectedDates].concat(remainder)) !== false) {\n            self._updateClassNames(calendar);\n\n            self._updateInputFields(selectedDates, type);\n          }\n        },\n        onChange: function onChange() {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          if (!_onChange || _onChange.call.apply(_onChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n\n            if (type === 'range') {\n              if (calendar.selectedDates.length === 1 && calendar.isOpen) {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.add(self.options.classFocused);\n              } else {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.remove(self.options.classFocused);\n              }\n            }\n          }\n        },\n        onMonthChange: function onMonthChange() {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          if (!_onMonthChange || _onMonthChange.call.apply(_onMonthChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onYearChange: function onYearChange() {\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          if (!_onYearChange || _onYearChange.call.apply(_onYearChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onOpen: function onOpen() {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          self.shouldForceOpen = true;\n          setTimeout(function () {\n            self.shouldForceOpen = false;\n          }, 0);\n\n          for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n          }\n\n          if (!_onOpen || _onOpen.call.apply(_onOpen, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onValueUpdate: function onValueUpdate() {\n          for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n            args[_key6] = arguments[_key6];\n          }\n\n          if ((!_onValueUpdate || _onValueUpdate.call.apply(_onValueUpdate, [this].concat(args)) !== false) && type === 'range') {\n            self._updateInputFields(self.calendar.selectedDates, type);\n          }\n        },\n        nextArrow: _this._rightArrowHTML(),\n        prevArrow: _this._leftArrowHTML(),\n        plugins: [].concat(_toConsumableArray(_this.options.plugins || []), [carbonFlatpickrMonthSelectPlugin(_this.options)])\n      }));\n\n      if (type === 'range') {\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputFrom), 0);\n\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputTo), 1);\n      }\n\n      _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), 'click', function () {\n        calendar.open();\n      }));\n\n      _this._updateClassNames(calendar);\n\n      if (type !== 'range') {\n        _this._addInputLogic(date);\n      }\n\n      return calendar;\n    };\n\n    _this._addInputLogic = function (input, index) {\n      if (!isNaN(index) && (index < 0 || index > 1)) {\n        throw new RangeError(\"The index of <input> (\".concat(index, \") is out of range.\"));\n      }\n\n      var inputField = input;\n\n      _this.manage(on(inputField, 'change', function (evt) {\n        if (evt.isTrusted || evt.detail && evt.detail.isNotFromFlatpickr) {\n          var inputDate = _this.calendar.parseDate(inputField.value);\n\n          if (inputDate && !isNaN(inputDate.valueOf())) {\n            if (isNaN(index)) {\n              _this.calendar.setDate(inputDate);\n            } else {\n              var selectedDates = _this.calendar.selectedDates;\n              selectedDates[index] = inputDate;\n\n              _this.calendar.setDate(selectedDates);\n            }\n          }\n        }\n\n        _this._updateClassNames(_this.calendar);\n      })); // An attempt to temporarily set the `<input>` being edited as the one FlatPicker manages,\n      // as FlatPicker attempts to take over `keydown` event handler on `document` to run on the date picker dropdown.\n\n\n      _this.manage(on(inputField, 'keydown', function (evt) {\n        var origInput = _this.calendar._input;\n        _this.calendar._input = evt.target;\n        setTimeout(function () {\n          _this.calendar._input = origInput;\n        });\n      }));\n    };\n\n    _this._updateClassNames = function (_ref) {\n      var calendarContainer = _ref.calendarContainer,\n          selectedDates = _ref.selectedDates;\n\n      if (calendarContainer) {\n        calendarContainer.classList.add(_this.options.classCalendarContainer);\n        calendarContainer.querySelector('.flatpickr-month').classList.add(_this.options.classMonth);\n        calendarContainer.querySelector('.flatpickr-weekdays').classList.add(_this.options.classWeekdays);\n        calendarContainer.querySelector('.flatpickr-days').classList.add(_this.options.classDays);\n        toArray(calendarContainer.querySelectorAll('.flatpickr-weekday')).forEach(function (item) {\n          var currentItem = item;\n          currentItem.innerHTML = currentItem.innerHTML.replace(/\\s+/g, '');\n          currentItem.classList.add(_this.options.classWeekday);\n        });\n        toArray(calendarContainer.querySelectorAll('.flatpickr-day')).forEach(function (item) {\n          item.classList.add(_this.options.classDay);\n\n          if (item.classList.contains('today') && selectedDates.length > 0) {\n            item.classList.add('no-border');\n          } else if (item.classList.contains('today') && selectedDates.length === 0) {\n            item.classList.remove('no-border');\n          }\n        });\n      }\n    };\n\n    _this._updateInputFields = function (selectedDates, type) {\n      if (type === 'range') {\n        if (selectedDates.length === 2) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n          _this.element.querySelector(_this.options.selectorDatePickerInputTo).value = _this._formatDate(selectedDates[1]);\n        } else if (selectedDates.length === 1) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n        }\n      } else if (selectedDates.length === 1) {\n        _this.element.querySelector(_this.options.selectorDatePickerInput).value = _this._formatDate(selectedDates[0]);\n      }\n\n      _this._updateClassNames(_this.calendar);\n    };\n\n    _this._formatDate = function (date) {\n      return _this.calendar.formatDate(date, _this.calendar.config.dateFormat);\n    };\n\n    var _type = _this.element.getAttribute(_this.options.attribType);\n\n    _this.calendar = _this._initDatePicker(_type);\n\n    if (_this.calendar.calendarContainer) {\n      _this.manage(on(_this.element, 'keydown', function (e) {\n        if (e.which === 40) {\n          e.preventDefault();\n\n          (_this.calendar.selectedDateElem || _this.calendar.todayDateElem || _this.calendar.calendarContainer).focus();\n        }\n      }));\n\n      _this.manage(on(_this.calendar.calendarContainer, 'keydown', function (e) {\n        if (e.which === 9 && _type === 'range') {\n          _this._updateClassNames(_this.calendar);\n\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).focus();\n        }\n      }));\n    }\n\n    return _this;\n  }\n  /**\n   * Opens the date picker dropdown when this component gets focus.\n   * Used only for range mode for now.\n   * @private\n   */\n\n\n  _createClass(DatePicker, [{\n    key: \"_rightArrowHTML\",\n    value: function _rightArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\">\\n          <path d=\\\"M11 8l-5 5-.7-.7L9.6 8 5.3 3.7 6 3z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"_leftArrowHTML\",\n    value: function _leftArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\"\\n      >\\n        <path d=\\\"M5 8l5-5 .7.7L6.4 8l4.3 4.3-.7.7z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (this._rangeInput && this._rangeInput.parentNode) {\n        this._rangeInput.parentNode.removeChild(this._rangeInput);\n      }\n\n      if (this.calendar) {\n        try {\n          this.calendar.destroy();\n        } catch (err) {} // eslint-disable-line no-empty\n\n\n        this.calendar = null;\n      }\n\n      return _get(_getPrototypeOf(DatePicker.prototype), \"release\", this).call(this);\n    }\n    /**\n     * The component options.\n     * If `options` is specified in the constructor,\n     * {@linkcode DatePicker.create .create()}, or {@linkcode DatePicker.init .init()},\n     * properties in this object are overriden for the instance being create and how {@linkcode DatePicker.init .init()} works.\n     * @property {string} selectorInit The CSS selector to find date picker UIs.\n     */\n\n  }], [{\n    key: \"options\",\n    get: function get() {\n      var prefix = settings.prefix;\n      return {\n        selectorInit: '[data-date-picker]',\n        selectorDatePickerInput: '[data-date-picker-input]',\n        selectorDatePickerInputFrom: '[data-date-picker-input-from]',\n        selectorDatePickerInputTo: '[data-date-picker-input-to]',\n        selectorDatePickerIcon: '[data-date-picker-icon]',\n        selectorFlatpickrMonthYearContainer: '.flatpickr-current-month',\n        selectorFlatpickrYearContainer: '.numInputWrapper',\n        selectorFlatpickrCurrentMonth: '.cur-month',\n        classCalendarContainer: \"\".concat(prefix, \"--date-picker__calendar\"),\n        classMonth: \"\".concat(prefix, \"--date-picker__month\"),\n        classWeekdays: \"\".concat(prefix, \"--date-picker__weekdays\"),\n        classDays: \"\".concat(prefix, \"--date-picker__days\"),\n        classWeekday: \"\".concat(prefix, \"--date-picker__weekday\"),\n        classDay: \"\".concat(prefix, \"--date-picker__day\"),\n        classFocused: \"\".concat(prefix, \"--focused\"),\n        classVisuallyHidden: \"\".concat(prefix, \"--visually-hidden\"),\n        classFlatpickrCurrentMonth: 'cur-month',\n        attribType: 'data-date-picker-type',\n        dateFormat: 'm/d/Y'\n      };\n    }\n    /**\n     * The map associating DOM element and date picker UI instance.\n     * @type {WeakMap}\n     */\n\n  }]);\n\n  DatePicker.components = new WeakMap();\n  return DatePicker;\n}(mixin(createComponent, initComponentBySearch, handles));\n\nexport default DatePicker;","map":{"version":3,"sources":["/Users/zander/Documents/Development/ActionsLogging/carbon-tutorial/node_modules/carbon-components/es/components/date-picker/date-picker.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","n","slice","name","Array","from","test","iter","isArray","len","arr2","Flatpickr","settings","mixin","createComponent","initComponentBySearch","handles","on","flattenOptions","options","l10ns","en","weekdays","shorthand","forEach","day","index","currentDay","charAt","toArray","arrayLike","monthToStr","monthNumber","locale","months","carbonFlatpickrMonthSelectPlugin","config","fp","setupElements","_fp$monthElements","monthElements","elem","parentNode","removeChild","splice","concat","map","monthElement","_createElement","classFlatpickrCurrentMonth","textContent","currentMonth","l10n","yearElements","closest","selectorFlatpickrMonthYearContainer","insertBefore","selectorFlatpickrYearContainer","updateCurrentMonth","monthStr","currentMonthContainer","querySelectorAll","register","loadedPlugins","push","onMonthChange","onValueUpdate","onOpen","onReady","DatePicker","_mixin","_super","element","_this","_handleFocus","calendar","open","_handleBlur","event","focusTo","relatedTarget","contains","calendarContainer","close","_initDatePicker","type","doc","ownerDocument","rangeInput","createElement","className","classVisuallyHidden","setAttribute","appendChild","_rangeInput","w","defaultView","hasFocusin","hasFocusout","focusinEventName","focusoutEventName","manage","querySelector","selectorDatePickerIcon","date","selectorDatePickerInput","_this$options","_onClose","onClose","_onChange","onChange","_onMonthChange","_onYearChange","onYearChange","_onOpen","_onValueUpdate","assign","allowInput","mode","disableMobile","positionElement","selectorDatePickerInputFrom","selectedDates","shouldForceOpen","classList","add","isOpen","_len","remainder","_key","_updateClassNames","_updateInputFields","_len2","args","_key2","selectorDatePickerInputTo","classFocused","remove","_len3","_key3","_len4","_key4","setTimeout","_len5","_key5","_len6","_key6","nextArrow","_rightArrowHTML","prevArrow","_leftArrowHTML","plugins","_addInputLogic","input","isNaN","RangeError","inputField","evt","isTrusted","detail","isNotFromFlatpickr","inputDate","parseDate","valueOf","setDate","origInput","_input","_ref","classCalendarContainer","classMonth","classWeekdays","classDays","item","currentItem","innerHTML","replace","classWeekday","classDay","_formatDate","formatDate","dateFormat","_type","getAttribute","attribType","which","preventDefault","selectedDateElem","todayDateElem","focus","release","destroy","err","prefix","selectorInit","selectorFlatpickrCurrentMonth","components","WeakMap"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport Flatpickr from 'flatpickr';\nimport settings from '../../globals/js/settings';\nimport mixin from '../../globals/js/misc/mixin';\nimport createComponent from '../../globals/js/mixins/create-component';\nimport initComponentBySearch from '../../globals/js/mixins/init-component-by-search';\nimport handles from '../../globals/js/mixins/handles';\nimport on from '../../globals/js/misc/on';\n/* eslint no-underscore-dangle: [2, { \"allow\": [\"_input\", \"_updateClassNames\", \"_updateInputFields\"], \"allowAfterThis\": true }] */\n// `this.options` create-component mix-in creates prototype chain\n// so that `options` given in constructor argument wins over the one defined in static `options` property\n// 'Flatpickr' wants flat structure of object instead\n\nfunction flattenOptions(options) {\n  var o = {}; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n  for (var key in options) {\n    o[key] = options[key];\n  }\n\n  return o;\n} // Weekdays shorthand for english locale\n\n\nFlatpickr.l10ns.en.weekdays.shorthand.forEach(function (day, index) {\n  var currentDay = Flatpickr.l10ns.en.weekdays.shorthand;\n\n  if (currentDay[index] === 'Thu' || currentDay[index] === 'Th') {\n    currentDay[index] = 'Th';\n  } else {\n    currentDay[index] = currentDay[index].charAt(0);\n  }\n});\n\nvar toArray = function toArray(arrayLike) {\n  return Array.prototype.slice.call(arrayLike);\n};\n/**\n * @param {number} monthNumber The month number.\n * @param {boolean} shorthand `true` to use shorthand month.\n * @param {Locale} locale The Flatpickr locale data.\n * @returns {string} The month string.\n */\n\n\nvar monthToStr = function monthToStr(monthNumber, shorthand, locale) {\n  return locale.months[shorthand ? 'shorthand' : 'longhand'][monthNumber];\n};\n/**\n * @param {object} config Plugin configuration.\n * @param {boolean} [config.shorthand] `true` to use shorthand month.\n * @param {string} config.selectorFlatpickrMonthYearContainer The CSS selector for the container of month/year selection UI.\n * @param {string} config.selectorFlatpickrYearContainer The CSS selector for the container of year selection UI.\n * @param {string} config.selectorFlatpickrCurrentMonth The CSS selector for the text-based month selection UI.\n * @param {string} config.classFlatpickrCurrentMonth The CSS class for the text-based month selection UI.\n * @returns {Plugin} A Flatpickr plugin to use text instead of `<select>` for month picker.\n */\n\n\nvar carbonFlatpickrMonthSelectPlugin = function carbonFlatpickrMonthSelectPlugin(config) {\n  return function (fp) {\n    var setupElements = function setupElements() {\n      var _fp$monthElements;\n\n      if (!fp.monthElements) {\n        return;\n      }\n\n      fp.monthElements.forEach(function (elem) {\n        if (!elem.parentNode) return;\n        elem.parentNode.removeChild(elem);\n      });\n\n      (_fp$monthElements = fp.monthElements).splice.apply(_fp$monthElements, [0, fp.monthElements.length].concat(_toConsumableArray(fp.monthElements.map(function () {\n        // eslint-disable-next-line no-underscore-dangle\n        var monthElement = fp._createElement('span', config.classFlatpickrCurrentMonth);\n\n        monthElement.textContent = monthToStr(fp.currentMonth, config.shorthand === true, fp.l10n);\n        fp.yearElements[0].closest(config.selectorFlatpickrMonthYearContainer).insertBefore(monthElement, fp.yearElements[0].closest(config.selectorFlatpickrYearContainer));\n        return monthElement;\n      }))));\n    };\n\n    var updateCurrentMonth = function updateCurrentMonth() {\n      var monthStr = monthToStr(fp.currentMonth, config.shorthand === true, fp.l10n);\n      fp.yearElements.forEach(function (elem) {\n        var currentMonthContainer = elem.closest(config.selectorFlatpickrMonthYearContainer);\n        Array.prototype.forEach.call(currentMonthContainer.querySelectorAll('.cur-month'), function (monthElement) {\n          monthElement.textContent = monthStr;\n        });\n      });\n    };\n\n    var register = function register() {\n      fp.loadedPlugins.push('carbonFlatpickrMonthSelectPlugin');\n    };\n\n    return {\n      onMonthChange: updateCurrentMonth,\n      onValueUpdate: updateCurrentMonth,\n      onOpen: updateCurrentMonth,\n      onReady: [setupElements, updateCurrentMonth, register]\n    };\n  };\n};\n\nvar DatePicker = /*#__PURE__*/function (_mixin) {\n  _inherits(DatePicker, _mixin);\n\n  var _super = _createSuper(DatePicker);\n  /**\n   * DatePicker.\n   * @extends CreateComponent\n   * @extends InitComponentBySearch\n   * @extends Handles\n   * @param {HTMLElement} element The element working as an date picker.\n   */\n\n\n  function DatePicker(element, options) {\n    var _this;\n\n    _classCallCheck(this, DatePicker);\n\n    _this = _super.call(this, element, options);\n\n    _this._handleFocus = function () {\n      if (_this.calendar) {\n        _this.calendar.open();\n      }\n    };\n\n    _this._handleBlur = function (event) {\n      if (_this.calendar) {\n        var focusTo = event.relatedTarget;\n\n        if (!focusTo || !_this.element.contains(focusTo) && (!_this.calendar.calendarContainer || !_this.calendar.calendarContainer.contains(focusTo))) {\n          _this.calendar.close();\n        }\n      }\n    };\n\n    _this._initDatePicker = function (type) {\n      if (type === 'range') {\n        // Given FlatPickr assumes one `<input>` even in range mode,\n        // use a hidden `<input>` for such purpose, separate from our from/to `<input>`s\n        var doc = _this.element.ownerDocument;\n        var rangeInput = doc.createElement('input');\n        rangeInput.className = _this.options.classVisuallyHidden;\n        rangeInput.setAttribute('aria-hidden', 'true');\n\n        _this.element.appendChild(rangeInput);\n\n        _this._rangeInput = rangeInput; // An attempt to open the date picker dropdown when this component gets focus,\n        // and close the date picker dropdown when this component loses focus\n\n        var w = doc.defaultView;\n        var hasFocusin = ('onfocusin' in w);\n        var hasFocusout = ('onfocusout' in w);\n        var focusinEventName = hasFocusin ? 'focusin' : 'focus';\n        var focusoutEventName = hasFocusout ? 'focusout' : 'blur';\n\n        _this.manage(on(_this.element, focusinEventName, _this._handleFocus, !hasFocusin));\n\n        _this.manage(on(_this.element, focusoutEventName, _this._handleBlur, !hasFocusout));\n\n        _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), focusoutEventName, _this._handleBlur, !hasFocusout));\n      }\n\n      var self = _assertThisInitialized(_this);\n\n      var date = type === 'range' ? _this._rangeInput : _this.element.querySelector(_this.options.selectorDatePickerInput);\n      var _this$options = _this.options,\n          _onClose = _this$options.onClose,\n          _onChange = _this$options.onChange,\n          _onMonthChange = _this$options.onMonthChange,\n          _onYearChange = _this$options.onYearChange,\n          _onOpen = _this$options.onOpen,\n          _onValueUpdate = _this$options.onValueUpdate;\n      var calendar = new Flatpickr(date, Object.assign(flattenOptions(_this.options), {\n        allowInput: true,\n        mode: type,\n        disableMobile: true,\n        positionElement: type === 'range' && _this.element.querySelector(_this.options.selectorDatePickerInputFrom),\n        onClose: function onClose(selectedDates) {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          if (self.shouldForceOpen) {\n            if (self.calendar.calendarContainer) {\n              self.calendar.calendarContainer.classList.add('open');\n            }\n\n            self.calendar.isOpen = true;\n          }\n\n          for (var _len = arguments.length, remainder = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            remainder[_key - 1] = arguments[_key];\n          }\n\n          if (!_onClose || _onClose.call.apply(_onClose, [this, selectedDates].concat(remainder)) !== false) {\n            self._updateClassNames(calendar);\n\n            self._updateInputFields(selectedDates, type);\n          }\n        },\n        onChange: function onChange() {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          if (!_onChange || _onChange.call.apply(_onChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n\n            if (type === 'range') {\n              if (calendar.selectedDates.length === 1 && calendar.isOpen) {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.add(self.options.classFocused);\n              } else {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.remove(self.options.classFocused);\n              }\n            }\n          }\n        },\n        onMonthChange: function onMonthChange() {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          if (!_onMonthChange || _onMonthChange.call.apply(_onMonthChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onYearChange: function onYearChange() {\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          if (!_onYearChange || _onYearChange.call.apply(_onYearChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onOpen: function onOpen() {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          self.shouldForceOpen = true;\n          setTimeout(function () {\n            self.shouldForceOpen = false;\n          }, 0);\n\n          for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n          }\n\n          if (!_onOpen || _onOpen.call.apply(_onOpen, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onValueUpdate: function onValueUpdate() {\n          for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n            args[_key6] = arguments[_key6];\n          }\n\n          if ((!_onValueUpdate || _onValueUpdate.call.apply(_onValueUpdate, [this].concat(args)) !== false) && type === 'range') {\n            self._updateInputFields(self.calendar.selectedDates, type);\n          }\n        },\n        nextArrow: _this._rightArrowHTML(),\n        prevArrow: _this._leftArrowHTML(),\n        plugins: [].concat(_toConsumableArray(_this.options.plugins || []), [carbonFlatpickrMonthSelectPlugin(_this.options)])\n      }));\n\n      if (type === 'range') {\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputFrom), 0);\n\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputTo), 1);\n      }\n\n      _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), 'click', function () {\n        calendar.open();\n      }));\n\n      _this._updateClassNames(calendar);\n\n      if (type !== 'range') {\n        _this._addInputLogic(date);\n      }\n\n      return calendar;\n    };\n\n    _this._addInputLogic = function (input, index) {\n      if (!isNaN(index) && (index < 0 || index > 1)) {\n        throw new RangeError(\"The index of <input> (\".concat(index, \") is out of range.\"));\n      }\n\n      var inputField = input;\n\n      _this.manage(on(inputField, 'change', function (evt) {\n        if (evt.isTrusted || evt.detail && evt.detail.isNotFromFlatpickr) {\n          var inputDate = _this.calendar.parseDate(inputField.value);\n\n          if (inputDate && !isNaN(inputDate.valueOf())) {\n            if (isNaN(index)) {\n              _this.calendar.setDate(inputDate);\n            } else {\n              var selectedDates = _this.calendar.selectedDates;\n              selectedDates[index] = inputDate;\n\n              _this.calendar.setDate(selectedDates);\n            }\n          }\n        }\n\n        _this._updateClassNames(_this.calendar);\n      })); // An attempt to temporarily set the `<input>` being edited as the one FlatPicker manages,\n      // as FlatPicker attempts to take over `keydown` event handler on `document` to run on the date picker dropdown.\n\n\n      _this.manage(on(inputField, 'keydown', function (evt) {\n        var origInput = _this.calendar._input;\n        _this.calendar._input = evt.target;\n        setTimeout(function () {\n          _this.calendar._input = origInput;\n        });\n      }));\n    };\n\n    _this._updateClassNames = function (_ref) {\n      var calendarContainer = _ref.calendarContainer,\n          selectedDates = _ref.selectedDates;\n\n      if (calendarContainer) {\n        calendarContainer.classList.add(_this.options.classCalendarContainer);\n        calendarContainer.querySelector('.flatpickr-month').classList.add(_this.options.classMonth);\n        calendarContainer.querySelector('.flatpickr-weekdays').classList.add(_this.options.classWeekdays);\n        calendarContainer.querySelector('.flatpickr-days').classList.add(_this.options.classDays);\n        toArray(calendarContainer.querySelectorAll('.flatpickr-weekday')).forEach(function (item) {\n          var currentItem = item;\n          currentItem.innerHTML = currentItem.innerHTML.replace(/\\s+/g, '');\n          currentItem.classList.add(_this.options.classWeekday);\n        });\n        toArray(calendarContainer.querySelectorAll('.flatpickr-day')).forEach(function (item) {\n          item.classList.add(_this.options.classDay);\n\n          if (item.classList.contains('today') && selectedDates.length > 0) {\n            item.classList.add('no-border');\n          } else if (item.classList.contains('today') && selectedDates.length === 0) {\n            item.classList.remove('no-border');\n          }\n        });\n      }\n    };\n\n    _this._updateInputFields = function (selectedDates, type) {\n      if (type === 'range') {\n        if (selectedDates.length === 2) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n          _this.element.querySelector(_this.options.selectorDatePickerInputTo).value = _this._formatDate(selectedDates[1]);\n        } else if (selectedDates.length === 1) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n        }\n      } else if (selectedDates.length === 1) {\n        _this.element.querySelector(_this.options.selectorDatePickerInput).value = _this._formatDate(selectedDates[0]);\n      }\n\n      _this._updateClassNames(_this.calendar);\n    };\n\n    _this._formatDate = function (date) {\n      return _this.calendar.formatDate(date, _this.calendar.config.dateFormat);\n    };\n\n    var _type = _this.element.getAttribute(_this.options.attribType);\n\n    _this.calendar = _this._initDatePicker(_type);\n\n    if (_this.calendar.calendarContainer) {\n      _this.manage(on(_this.element, 'keydown', function (e) {\n        if (e.which === 40) {\n          e.preventDefault();\n\n          (_this.calendar.selectedDateElem || _this.calendar.todayDateElem || _this.calendar.calendarContainer).focus();\n        }\n      }));\n\n      _this.manage(on(_this.calendar.calendarContainer, 'keydown', function (e) {\n        if (e.which === 9 && _type === 'range') {\n          _this._updateClassNames(_this.calendar);\n\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).focus();\n        }\n      }));\n    }\n\n    return _this;\n  }\n  /**\n   * Opens the date picker dropdown when this component gets focus.\n   * Used only for range mode for now.\n   * @private\n   */\n\n\n  _createClass(DatePicker, [{\n    key: \"_rightArrowHTML\",\n    value: function _rightArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\">\\n          <path d=\\\"M11 8l-5 5-.7-.7L9.6 8 5.3 3.7 6 3z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"_leftArrowHTML\",\n    value: function _leftArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\"\\n      >\\n        <path d=\\\"M5 8l5-5 .7.7L6.4 8l4.3 4.3-.7.7z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (this._rangeInput && this._rangeInput.parentNode) {\n        this._rangeInput.parentNode.removeChild(this._rangeInput);\n      }\n\n      if (this.calendar) {\n        try {\n          this.calendar.destroy();\n        } catch (err) {} // eslint-disable-line no-empty\n\n\n        this.calendar = null;\n      }\n\n      return _get(_getPrototypeOf(DatePicker.prototype), \"release\", this).call(this);\n    }\n    /**\n     * The component options.\n     * If `options` is specified in the constructor,\n     * {@linkcode DatePicker.create .create()}, or {@linkcode DatePicker.init .init()},\n     * properties in this object are overriden for the instance being create and how {@linkcode DatePicker.init .init()} works.\n     * @property {string} selectorInit The CSS selector to find date picker UIs.\n     */\n\n  }], [{\n    key: \"options\",\n    get: function get() {\n      var prefix = settings.prefix;\n      return {\n        selectorInit: '[data-date-picker]',\n        selectorDatePickerInput: '[data-date-picker-input]',\n        selectorDatePickerInputFrom: '[data-date-picker-input-from]',\n        selectorDatePickerInputTo: '[data-date-picker-input-to]',\n        selectorDatePickerIcon: '[data-date-picker-icon]',\n        selectorFlatpickrMonthYearContainer: '.flatpickr-current-month',\n        selectorFlatpickrYearContainer: '.numInputWrapper',\n        selectorFlatpickrCurrentMonth: '.cur-month',\n        classCalendarContainer: \"\".concat(prefix, \"--date-picker__calendar\"),\n        classMonth: \"\".concat(prefix, \"--date-picker__month\"),\n        classWeekdays: \"\".concat(prefix, \"--date-picker__weekdays\"),\n        classDays: \"\".concat(prefix, \"--date-picker__days\"),\n        classWeekday: \"\".concat(prefix, \"--date-picker__weekday\"),\n        classDay: \"\".concat(prefix, \"--date-picker__day\"),\n        classFocused: \"\".concat(prefix, \"--focused\"),\n        classVisuallyHidden: \"\".concat(prefix, \"--visually-hidden\"),\n        classFlatpickrCurrentMonth: 'cur-month',\n        attribType: 'data-date-picker-type',\n        dateFormat: 'm/d/Y'\n      };\n    }\n    /**\n     * The map associating DOM element and date picker UI instance.\n     * @type {WeakMap}\n     */\n\n  }]);\n\n  DatePicker.components = new WeakMap();\n  return DatePicker;\n}(mixin(createComponent, initComponentBySearch, handles));\n\nexport default DatePicker;"]},"metadata":{},"sourceType":"module"}